{"version":3,"sources":["actions/errorActions.js","actions/types.js","components/Login.jsx","actions/authActions.js","components/OfferCard.jsx","actions/offerActions.js","actions/userActions.js","components/Navbar.jsx","components/AddOffer.jsx","components/Homepage.jsx","actions/hiveAuthActions.js","components/Oauth.jsx","reducers/userReducer.js","reducers/authReducer.js","reducers/errorReducer.js","reducers/offerReducer.js","reducers/index.js","store.js","App.js","serviceWorker.js","index.js"],"names":["returnErrors","msg","status","id","type","payload","Login","useState","firstname","setFirstname","lastname","setLastname","username","setUsername","email","setEmail","password","setPassword","confirm","setConfirm","isRegister","setIsRegister","isLoggedIn","setIsLoggedIn","dispatch","useDispatch","onChange","e","preventDefault","target","value","to","className","placeholder","href","onClick","alert","body","JSON","stringify","axios","post","headers","then","res","data","catch","err","response","registerUser","loginUser","OfferCard","props","isActive","setActive","user","useSelector","state","auth","offer","profilePic","creator","profile_picture","handleBuy","userData","_id","notification","title","text","cost","isRead","date","Date","now","config","put","console","log","modifyOffer","modifyUser","src","alt","karma","toUpperCase","description","Navbar","showMenu","setShowMenu","login","setLogin","isAuth","isAuthenticated","logoutUser","AddOffer","setTitle","setCost","duration","setDuration","setDescription","setType","isTradeable","setIsTradeable","dur","sign","checked","handleSubmit","prototype","addDays","days","this","valueOf","setDate","getDate","expiresDate","addOffer","setIsAdd","Carousel","classname","interval","wrap","Item","rows","cols","name","defaultValue","disabled","htmlFor","minutes","Math","floor","durationValue","Homepage","offerList","offers","isAdd","reverse","map","key","loginHive","hive_id","Oauth","location","useLocation","isReady","setIsready","useEffect","queryValues","search","code","queryString","parse","get","Authorization","access_token","result","i","length","d","registerHive","first_name","last_name","image_url","initialState","users","token","localStorage","getItem","isLoading","combineReducers","action","error","setItem","removeItem","middleWare","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","App","getState","path","exact","component","Component","Boolean","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.3c4e5df4.chunk.js","sourcesContent":["import { GET_ERRORS, CLEAR_ERRORS } from \"./types\";\r\n\r\n// Return errors\r\nexport const returnErrors = (msg, status, id = null) => {\r\n\treturn {\r\n\t\ttype: GET_ERRORS,\r\n\t\tpayload: {\r\n\t\t\tmsg,\r\n\t\t\tstatus,\r\n\t\t\tid\r\n\t\t}\r\n\t};\r\n};\r\n\r\n// Clear errors\r\nexport const clearErrors = () => {\r\n\treturn {\r\n\t\ttype: CLEAR_ERRORS\r\n\t};\r\n};\r\n","// AUTH TYPES\r\nexport const USER_LOADING = \"USER_LOADING\";\r\nexport const USER_LOADED = \"USER_LOADED\";\r\nexport const AUTH_ERROR = \"AUTH_ERROR\";\r\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nexport const LOGIN_FAIL = \"LOGIN_FAIL\";\r\nexport const LOGOUT_SUCCESS = \"LOGOUT_SUCCESS\";\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_FAIL = \"REGISTER_FAIL\";\r\n\r\n// ERROR TYPES\r\nexport const GET_ERRORS = \"GET_ERRORS\";\r\nexport const CLEAR_ERRORS = \"CLEAR_ERRORS\";\r\n\r\n// API TYPES\r\nexport const GET_USERS = \"GET_USERS\";\r\nexport const GET_OFFERS = \"GET_OFFERS\";\r\nexport const OFFERS_LOADING = \"OFFERS_LOADING\";\r\nexport const GET_OFFERS_ERROR = \"GET_OFFERS_ERROR\";\r\nexport const ADD_OFFER_SUCCESS = \"ADD_OFFER_SUCCESS\";\r\n","import React, { useState } from \"react\";\r\nimport { loginUser, registerUser } from \"../actions/authActions\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./css/login.css\";\r\n\r\nconst Login = () => {\r\n\tconst [firstname, setFirstname] = useState(\"\");\r\n\tconst [lastname, setLastname] = useState(\"\");\r\n\tconst [username, setUsername] = useState(\"\");\r\n\tconst [email, setEmail] = useState(\"\");\r\n\tconst [password, setPassword] = useState(\"\");\r\n\tconst [confirm, setConfirm] = useState(\"\");\r\n\tconst [isRegister, setIsRegister] = useState(false);\r\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst onChange = (e, type) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase \"firstname\":\r\n\t\t\t\tsetFirstname(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"lastname\":\r\n\t\t\t\tsetLastname(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"username\":\r\n\t\t\t\tsetUsername(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"email\":\r\n\t\t\t\tsetEmail(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"password\":\r\n\t\t\t\tsetPassword(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"confirm-password\":\r\n\t\t\t\tsetConfirm(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\tconst onSubmit = () => {\r\n\t\t// Login or register new user\r\n\t\tif (!isRegister) {\r\n\t\t\tconst user = {\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t};\r\n\t\t\tloginUser(user)(dispatch);\r\n\t\t\tsetIsLoggedIn(true);\r\n\t\t} else {\r\n\t\t\t// Check if password confirmation matches\r\n\t\t\tif (password !== confirm) {\r\n\t\t\t\talert(\"passwords don't match\");\r\n\t\t\t} else {\r\n\t\t\t\tconst user = {\r\n\t\t\t\t\tfirstname,\r\n\t\t\t\t\tlastname,\r\n\t\t\t\t\tusername,\r\n\t\t\t\t\temail,\r\n\t\t\t\t\tpassword,\r\n\t\t\t\t};\r\n\t\t\t\tregisterUser(user)(dispatch);\r\n\t\t\t\tsetIsLoggedIn(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn isLoggedIn ? (\r\n\t\t<Redirect to=\"/\" />\r\n\t) : (\r\n\t\t<div>\r\n\t\t\t<div className=\"login-container\">\r\n\t\t\t\t{isRegister ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"firstname-field h-align\"\r\n\t\t\t\t\t\t\tplaceholder=\"First Name\"\r\n\t\t\t\t\t\t\tonChange={(e) => onChange(e, \"firstname\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"lastname-field h-align\"\r\n\t\t\t\t\t\t\tplaceholder=\"Last Name\"\r\n\t\t\t\t\t\t\tonChange={(e) => onChange(e, \"lastname\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"username-field h-align\"\r\n\t\t\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\t\t\tonChange={(e) => onChange(e, \"username\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className=\"hive-login-container\">\r\n\t\t\t\t\t<a href=\"https://api.intra.42.fr/oauth/authorize?client_id=8f7dbe7ac964071bad261bdc3197b8c40b26a2bc5105046c3245ab2635a28ecb&redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Foauth%2F42%2Fredirect&response_type=code&scope=public\">\r\n\t\t\t\t\t\tLogin with hive\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"email-field h-align\"\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\tonChange={(e) => onChange(e, \"email\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\tclassName=\"pasword-field h-align\"\r\n\t\t\t\t\tonChange={(e) => onChange(e, \"password\")}\r\n\t\t\t\t/>\r\n\t\t\t\t{isRegister ? (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"Confirm Password\"\r\n\t\t\t\t\t\t\tclassName=\"confirm-pasword-field h-align\"\r\n\t\t\t\t\t\t\tonChange={(e) => onChange(e, \"confirm-password\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<button className=\"submit-button h-align\" onClick={onSubmit}>\r\n\t\t\t\t\t{isRegister ? <div>REGISTER</div> : <div>LOGIN</div>}\r\n\t\t\t\t</button>\r\n\t\t\t\t{!isRegister ? (\r\n\t\t\t\t\t<div className=\"register-link\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetIsRegister(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDon't have an account yet?\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Login;\r\n","import axios from \"axios\";\r\nimport { returnErrors } from \"./errorActions\";\r\nimport {\r\n\tUSER_LOADING,\r\n\tUSER_LOADED,\r\n\tAUTH_ERROR,\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT_SUCCESS,\r\n\tREGISTER_SUCCESS,\r\n\tREGISTER_FAIL,\r\n} from \"./types\";\r\n\r\n// REGISTER USER\r\nexport const registerUser = ({\r\n\tfirstname,\r\n\tlastname,\r\n\tusername,\r\n\temail,\r\n\tpassword,\r\n}) => (dispatch) => {\r\n\t// Headers\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t},\r\n\t};\r\n\r\n\t// Request body\r\n\tconst body = JSON.stringify({\r\n\t\tfirstname,\r\n\t\tlastname,\r\n\t\tusername,\r\n\t\temail,\r\n\t\tpassword,\r\n\t});\r\n\r\n\taxios\r\n\t\t.post(\"/api/users\", body, config)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REGISTER_SUCCESS,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\treturnErrors(\r\n\t\t\t\terr.response.data,\r\n\t\t\t\terr.response.status,\r\n\t\t\t\t\"REGISTER_FAIL\"\r\n\t\t\t);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REGISTER_FAIL,\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\n// LOGIN USER\r\nexport const loginUser = ({ email, password }) => (dispatch) => {\r\n\t// Headers\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t},\r\n\t};\r\n\r\n\t// Request body\r\n\tconst body = JSON.stringify({ email, password });\r\n\r\n\taxios\r\n\t\t.post(\"/api/auth\", body, config)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\treturnErrors(err.response.data, err.response.status, \"LOGIN_FAIL\");\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGIN_FAIL,\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\n// LOGOUT USER\r\nexport const logoutUser = () => (dispatch) => {\r\n\tdispatch({ type: LOGOUT_SUCCESS });\r\n};\r\n\r\n// CHECK TOKEN AND LOAD USER\r\nexport const loadUser = () => (dispatch, getState) => {\r\n\t// User loading\r\n\tdispatch({ type: USER_LOADING });\r\n\r\n\t// Get token from local storage\r\n\tconst token = getState().auth.token;\r\n\r\n\t// Headers\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t},\r\n\t};\r\n\r\n\t// If token, then add to headers\r\n\tif (token) {\r\n\t\tconfig.headers[\"x-auth-token\"] = token;\r\n\t}\r\n\r\n\taxios\r\n\t\t.get(\"/api/auth/user\", config)\r\n\t\t.then((res) =>\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_LOADED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t})\r\n\t\t)\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.log(err);\r\n\r\n\t\t\tdispatch(returnErrors(err.response.data, err.response.status));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: AUTH_ERROR,\r\n\t\t\t});\r\n\t\t});\r\n};\r\n","import React, { useState } from \"react\";\r\nimport \"./css/offerCard.css\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { modifyOffer } from \"../actions/offerActions\";\r\nimport { modifyUser } from \"../actions/userActions\";\r\n\r\nconst OfferCard = (props) => {\r\n\tconst [isActive, setActive] = useState(false);\r\n\tconst user = useSelector((state) => state.auth.user);\r\n\tconst offer = props.offer;\r\n\t// const dispatch = useDispatch();\r\n\r\n\t// Set profile pic, or default if none\r\n\tconst profilePic = offer.creator.profile_picture\r\n\t\t? offer.creator.profile_picture\r\n\t\t: \"/default.png\";\r\n\r\n\t// Handle buy of offer\r\n\tconst handleBuy = () => {\r\n\t\tconst userData = JSON.stringify({\r\n\t\t\t_id: user._id,\r\n\t\t\tfirstname: user.firstname,\r\n\t\t\tlastname: user.lastname,\r\n\t\t\tusername: user.username,\r\n\t\t});\r\n\r\n\t\tconst body = JSON.stringify({\r\n\t\t\tnotification: {\r\n\t\t\t\ttype: \"sale\",\r\n\t\t\t\ttitle: \"Your Offer Was Bought\",\r\n\t\t\t\ttext:\r\n\t\t\t\t\tuser.username +\r\n\t\t\t\t\t\" bought your offer \" +\r\n\t\t\t\t\toffer.title +\r\n\t\t\t\t\t\" for \" +\r\n\t\t\t\t\toffer.cost +\r\n\t\t\t\t\t\" schmeckels!\",\r\n\t\t\t\tisRead: false,\r\n\t\t\t\tdate: Date.now(),\r\n\t\t\t},\r\n\t\t});\r\n\t\tmodifyOffer(offer._id, userData);\r\n\t\tmodifyUser(offer.creator.id, body);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className=\"offer-card\" onClick={() => setActive(!isActive)}>\r\n\t\t\t\t<div className=\"user-info\">\r\n\t\t\t\t\t<div id=\"username\">{offer.creator.username}</div>\r\n\t\t\t\t\t<img src={profilePic} alt=\"profilePic\" id=\"profile-pic\" />\r\n\t\t\t\t\t<div className=\"karma-container\">\r\n\t\t\t\t\t\t<img src=\"/karma.png\" alt=\"karma\" id=\"karma-icon\" />\r\n\t\t\t\t\t\t<div id=\"karma\">{offer.creator.karma}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"offer-info\">\r\n\t\t\t\t\t<div id=\"type\">{offer.type.toUpperCase()}</div>\r\n\t\t\t\t\t<div id=\"title\">{offer.title.toUpperCase()}</div>\r\n\t\t\t\t\t<div className=\"const-container\">\r\n\t\t\t\t\t\t<img src=\"/money-bag.png\" alt=\"money\" id=\"cost-icon\" />\r\n\t\t\t\t\t\t<div id=\"cost\">{offer.cost}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"tags\">sports | tennis | skillshare</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{isActive ? (\r\n\t\t\t\t<div className=\"details-container\">\r\n\t\t\t\t\t<div id=\"description\">\"{offer.description}\"</div>\r\n\t\t\t\t\t<button id=\"buy-button\" onClick={() => handleBuy()}>\r\n\t\t\t\t\t\tBUY\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default OfferCard;\r\n","import axios from \"axios\";\r\nimport { returnErrors } from \"./errorActions\";\r\n\r\nimport {\r\n\tGET_OFFERS,\r\n\tOFFERS_LOADING,\r\n\tGET_OFFERS_ERROR,\r\n\tADD_OFFER_SUCCESS,\r\n} from \"./types\";\r\n\r\n// Get all offers and dispatch to state\r\nexport const getOffers = () => (dispatch) => {\r\n\t// offers loading\r\n\tdispatch({ type: OFFERS_LOADING });\r\n\r\n\t// get all offers from DB\r\n\taxios\r\n\t\t.get(\"/api/offers\")\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GET_OFFERS,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tdispatch(returnErrors(err.response.data, err.response.status));\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: GET_OFFERS_ERROR,\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\n// Add new offer\r\nexport const addOffer = (offer) => (dispatch) => {\r\n\t// Header\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t},\r\n\t};\r\n\r\n\taxios.post(\"/api/offers\", offer, config).then((res) => {\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_OFFER_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t});\r\n};\r\n\r\n// Modify offer\r\nexport const modifyOffer = (id, user) => {\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\tid,\r\n\t\t},\r\n\t};\r\n\r\n\taxios\r\n\t\t.put(\"/api/offers\", user, config)\r\n\t\t.then((res) => console.log(res.data))\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n","import { GET_USERS } from \"./types\";\r\nimport axios from \"axios\";\r\n\r\nexport const getUsers = () => {\r\n\treturn {\r\n\t\ttype: GET_USERS,\r\n\t};\r\n};\r\n\r\nexport const modifyUser = (id, data) => {\r\n\tconsole.log(id + \" \" + data);\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t\tid,\r\n\t\t},\r\n\t};\r\n\r\n\taxios\r\n\t\t.put(\"/api/users\", data, config)\r\n\t\t.then((res) => console.log(res.data))\r\n\t\t.catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport \"./css/navbar.css\";\r\nimport { logoutUser } from \"../actions/authActions\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n\tconst [showMenu, setShowMenu] = useState(false);\r\n\tconst [login, setLogin] = useState(false);\r\n\tconst isAuth = useSelector((state) => state.auth.isAuthenticated);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst toggleMenu = () => {\r\n\t\tsetShowMenu(!showMenu);\r\n\t};\r\n\r\n\tconst onLogout = () => {\r\n\t\tlogoutUser()(dispatch);\r\n\t};\r\n\r\n\tconst onLogin = () => {\r\n\t\tsetLogin(true);\r\n\t};\r\n\r\n\treturn login ? (\r\n\t\t<Redirect to=\"/login\" />\r\n\t) : (\r\n\t\t<div>\r\n\t\t\t<div className=\"navbar-container\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"/hamburger.png\"\r\n\t\t\t\t\talt=\"hamburger\"\r\n\t\t\t\t\tid=\"hamburger\"\r\n\t\t\t\t\tonClick={() => toggleMenu()}\r\n\t\t\t\t/>\r\n\t\t\t\t<img src=\"/pig.png\" alt=\"logo\" id=\"logo\" />\r\n\t\t\t</div>\r\n\t\t\t{showMenu ? (\r\n\t\t\t\t<div className=\"hamburger-menu\">\r\n\t\t\t\t\t{isAuth ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className=\"menu-item\">Menu item 1</div>\r\n\t\t\t\t\t\t\t<div className=\"menu-item\">Menu item 2</div>\r\n\t\t\t\t\t\t\t<div className=\"menu-item\">Menu item 3</div>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc=\"/logout.png\"\r\n\t\t\t\t\t\t\t\talt=\"logout\"\r\n\t\t\t\t\t\t\t\tid=\"logout\"\r\n\t\t\t\t\t\t\t\tonClick={() => onLogout()}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\tsrc=\"/settings.png\"\r\n\t\t\t\t\t\t\t\talt=\"settings\"\r\n\t\t\t\t\t\t\t\tid=\"settings\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<button id=\"login-button\" onClick={() => onLogin()}>\r\n\t\t\t\t\t\t\tLOGIN\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useState } from \"react\";\r\nimport { addOffer } from \"../actions/offerActions\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Carousel from \"react-bootstrap/Carousel\";\r\nimport OfferCard from \"./OfferCard\";\r\nimport \"./css/addOffer.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nconst AddOffer = (props) => {\r\n\tconst [title, setTitle] = useState(\"\");\r\n\tconst [cost, setCost] = useState(0);\r\n\tconst [duration, setDuration] = useState(30);\r\n\tconst [description, setDescription] = useState(\"\");\r\n\tconst [type, setType] = useState(\"\");\r\n\tconst [isTradeable, setIsTradeable] = useState(false);\r\n\tconst user = useSelector((state) => state.auth.user);\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst dur = (type) => {\r\n\t\tconst sign = type === \"increase\" ? 1 : -1;\r\n\t\tif (sign < 0 && duration > 15) {\r\n\t\t\tsetDuration(duration - 15);\r\n\t\t} else if (sign > 0 && duration < 240) {\r\n\t\t\tsetDuration(duration + 15);\r\n\t\t}\r\n\t};\r\n\r\n\tconst durationValue = (duration) => {\r\n\t\tconst hours = Math.floor(duration / 60);\r\n\t\tconst minutes = duration % 60;\r\n\t\treturn hours + \":\" + minutes + (minutes < 10 ? \"0\" : \"\") + \" h\";\r\n\t};\r\n\r\n\tconst onChange = (e, type) => {\r\n\t\tswitch (type) {\r\n\t\t\tcase \"type\":\r\n\t\t\t\tsetType(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"cost\":\r\n\t\t\t\tsetCost(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"isTradeable\":\r\n\t\t\t\tsetIsTradeable(e.target.checked);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"title\":\r\n\t\t\t\tsetTitle(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"description\":\r\n\t\t\t\tsetDescription(e.target.value);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn;\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleSubmit = () => {\r\n\t\t// Get current user from state\r\n\t\tconst creator = {\r\n\t\t\tid: user._id,\r\n\t\t\tusername: user.username,\r\n\t\t\tkarma: user.karma,\r\n\t\t\tprofile_picture: user.profile_picture,\r\n\t\t};\r\n\r\n\t\t// Create expires date a week from now\r\n\t\tDate.prototype.addDays = function (days) {\r\n\t\t\tvar date = new Date(this.valueOf());\r\n\t\t\tdate.setDate(date.getDate() + days);\r\n\t\t\treturn date;\r\n\t\t};\r\n\t\tvar date = new Date();\r\n\t\tconst expiresDate = date.addDays(7);\r\n\r\n\t\tconst offer = {\r\n\t\t\tcreator,\r\n\t\t\tcost,\r\n\t\t\ttype,\r\n\t\t\texpiresDate,\r\n\t\t\tdescription,\r\n\t\t\tduration,\r\n\t\t\ttitle,\r\n\t\t\tisTradeable,\r\n\t\t};\r\n\r\n\t\taddOffer(offer)(dispatch);\r\n\t\tprops.setIsAdd(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Carousel classname=\"carousel\" interval={null} wrap={false}>\r\n\t\t\t<Carousel.Item className=\"carousel-item\">\r\n\t\t\t\t<div className=\"grid\">\r\n\t\t\t\t\t<h1 className=\"header center\">DESCRIPTION</h1>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"TITLE\"\r\n\t\t\t\t\t\tid=\"title-field\"\r\n\t\t\t\t\t\tonChange={(e) => onChange(e, \"title\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\trows=\"6\"\r\n\t\t\t\t\t\tcols=\"30\"\r\n\t\t\t\t\t\tplaceholder=\"Give a brief description about your offering\"\r\n\t\t\t\t\t\tid=\"description-field\"\r\n\t\t\t\t\t\tonChange={(e) => onChange(e, \"description\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Carousel.Item>\r\n\t\t\t<Carousel.Item>\r\n\t\t\t\t<div className=\"grid\">\r\n\t\t\t\t\t<h1 className=\"header center\">DETAILS</h1>\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tname=\"type\"\r\n\t\t\t\t\t\tclassName=\"center\"\r\n\t\t\t\t\t\tid=\"type-dropdown\"\r\n\t\t\t\t\t\tdefaultValue=\"\"\r\n\t\t\t\t\t\tonChange={(e) => onChange(e, \"type\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=\"\" disabled>\r\n\t\t\t\t\t\t\tChoose Category..\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t<option value=\"lesson\">Lesson</option>\r\n\t\t\t\t\t\t<option value=\"rent\">Rent</option>\r\n\t\t\t\t\t\t<option value=\"sell\">Sell</option>\r\n\t\t\t\t\t</select>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\tname=\"cost\"\r\n\t\t\t\t\t\tid=\"cost-field\"\r\n\t\t\t\t\t\tclassName=\"center\"\r\n\t\t\t\t\t\tplaceholder=\"price\"\r\n\t\t\t\t\t\tonChange={(e) => onChange(e, \"cost\")}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className=\"center\" id=\"tradeable-field\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\tname=\"isTradeable\"\r\n\t\t\t\t\t\t\tid=\"is-tradeable-box\"\r\n\t\t\t\t\t\t\tclassName=\"center\"\r\n\t\t\t\t\t\t\tonClick={(e) => onChange(e, \"isTradeable\")}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor=\"isTradeable\">Allow Trade Offers?</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{type === \"lesson\" ? (\r\n\t\t\t\t\t\t<div id=\"input-duration\">\r\n\t\t\t\t\t\t\t<div className=\"center\" id=\"label-duration\">\r\n\t\t\t\t\t\t\t\tLesson Duration:\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"center\"\r\n\t\t\t\t\t\t\t\tid=\"duration-minus\"\r\n\t\t\t\t\t\t\t\tonClick={() => dur(\"decrease\")}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div id=\"duration-value\" className=\"center\">\r\n\t\t\t\t\t\t\t\t{durationValue(duration)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"center\"\r\n\t\t\t\t\t\t\t\tid=\"duration-plus\"\r\n\t\t\t\t\t\t\t\tonClick={() => dur(\"increase\")}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</Carousel.Item>\r\n\t\t\t<Carousel.Item className=\"carousel-item\">\r\n\t\t\t\t<OfferCard\r\n\t\t\t\t\toffer={{\r\n\t\t\t\t\t\tcreator: {\r\n\t\t\t\t\t\t\tid: user._id,\r\n\t\t\t\t\t\t\tusername: user.username,\r\n\t\t\t\t\t\t\tkarma: user.karma,\r\n\t\t\t\t\t\t\tprofile_picture: user.profile_picture,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcost,\r\n\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\tdescription,\r\n\t\t\t\t\t\tduration,\r\n\t\t\t\t\t\ttitle,\r\n\t\t\t\t\t\tisTradeable,\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<button id=\"submit-button\" onClick={() => handleSubmit()}>\r\n\t\t\t\t\tSUBMIT\r\n\t\t\t\t</button>\r\n\t\t\t</Carousel.Item>\r\n\t\t</Carousel>\r\n\t);\r\n};\r\n\r\nexport default AddOffer;\r\n","import React, { useState } from \"react\";\r\nimport OfferCard from \"./OfferCard\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Navbar from \"./Navbar\";\r\nimport AddOffer from \"./AddOffer\";\r\nimport \"./css/Homepage.css\";\r\n\r\nconst Homepage = () => {\r\n\tconst offerList = useSelector((state) => state.offer.offers);\r\n\tconst [isAdd, setIsAdd] = useState(false);\r\n\r\n\tif (!offerList[0]) return <div>wait</div>;\r\n\telse {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<Navbar />\r\n\t\t\t\t{isAdd ? (\r\n\t\t\t\t\t<div className=\"add-offer-container\">\r\n\t\t\t\t\t\t<AddOffer setIsAdd={setIsAdd} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div className=\"cards-container\">\r\n\t\t\t\t\t\t\t{offerList.reverse().map((offer) => (\r\n\t\t\t\t\t\t\t\t<OfferCard offer={offer} key={offer._id} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc=\"/add.png\"\r\n\t\t\t\t\t\t\talt=\"plus\"\r\n\t\t\t\t\t\t\tid=\"add-button\"\r\n\t\t\t\t\t\t\tonClick={() => setIsAdd(true)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\nexport default Homepage;\r\n","import axios from \"axios\";\r\nimport { returnErrors } from \"./errorActions\";\r\nimport {\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tREGISTER_SUCCESS,\r\n\tREGISTER_FAIL,\r\n} from \"./types\";\r\n\r\n// LOGIN HIVE USER\r\nexport const loginHive = (hive_id) => (dispatch) => {\r\n\t// Headers\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t},\r\n\t};\r\n\r\n\t// Req body\r\n\tconst body = JSON.stringify({\r\n\t\thive_id,\r\n\t});\r\n\r\n\taxios\r\n\t\t.post(\"/api/auth/hive\", body, config)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\treturnErrors(err.response.data, err.response.status, \"LOGIN_FAIL\");\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: LOGIN_FAIL,\r\n\t\t\t});\r\n\t\t});\r\n};\r\n\r\n// REGISTER HIVE USER\r\nexport const registerHive = ({\r\n\tfirstname,\r\n\tlastname,\r\n\tusername,\r\n\temail,\r\n\tprofile_picture,\r\n\thive_id,\r\n}) => (dispatch) => {\r\n\t// Headers\r\n\tconst config = {\r\n\t\theaders: {\r\n\t\t\t\"Content-type\": \"application/json\",\r\n\t\t},\r\n\t};\r\n\r\n\t// Req body\r\n\tconst body = JSON.stringify({\r\n\t\tfirstname,\r\n\t\tlastname,\r\n\t\tusername,\r\n\t\temail,\r\n\t\thive_id,\r\n\t\tprofile_picture,\r\n\t});\r\n\r\n\taxios\r\n\t\t.post(\"/api/users/hive\", body, config)\r\n\t\t.then((res) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REGISTER_SUCCESS,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\treturnErrors(\r\n\t\t\t\terr.response.data,\r\n\t\t\t\terr.response.status,\r\n\t\t\t\t\"REGISTER_FAIL\"\r\n\t\t\t);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: REGISTER_FAIL,\r\n\t\t\t});\r\n\t\t});\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, Redirect } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\nimport { loginHive, registerHive } from \"../actions/hiveAuthActions\";\r\n\r\nconst Oauth = () => {\r\n\tconst location = useLocation();\r\n\tconst dispatch = useDispatch();\r\n\tconst [isReady, setIsready] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst queryValues = location.search;\r\n\t\tconst code = queryString.parse(queryValues).code;\r\n\r\n\t\t// Get token from 42 with granted code\r\n\t\taxios\r\n\t\t\t.get(\"/oauth/42/redirect\", { headers: { code } })\r\n\t\t\t.then((res) => {\r\n\t\t\t\t// Post to 42 for token\r\n\t\t\t\treturn axios.get(\"https://api.intra.42.fr/v2/me\", {\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: \"BEARER \" + res.data.access_token,\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\t// Check if user with hiveID already exists in DB\r\n\t\t\t\taxios.get(\"/api/users\").then((result) => {\r\n\t\t\t\t\tfor (let i = 0; i < result.data.length; i++) {\r\n\t\t\t\t\t\tif (result.data[i].hive_id === res.data.id) {\r\n\t\t\t\t\t\t\t// If exists, login user\r\n\t\t\t\t\t\t\tloginHive(res.data.id)(dispatch);\r\n\t\t\t\t\t\t\tsetIsready(true);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Else, register new user\r\n\t\t\t\t\tconst d = res.data;\r\n\t\t\t\t\tconst body = {\r\n\t\t\t\t\t\tfirstname: d.first_name,\r\n\t\t\t\t\t\tlastname: d.last_name,\r\n\t\t\t\t\t\tusername: d.login,\r\n\t\t\t\t\t\temail: d.email,\r\n\t\t\t\t\t\thive_id: d.id,\r\n\t\t\t\t\t\tprofile_picture: d.image_url,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tregisterHive(body)(dispatch);\r\n\t\t\t\t\tsetIsready(true);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => console.log(err));\r\n\t});\r\n\r\n\treturn isReady ? (\r\n\t\t<Redirect to=\"/\" />\r\n\t) : (\r\n\t\t<div>\r\n\t\t\t<h1>this is redirect component</h1>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Oauth;\r\n","import { GET_USERS } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\tusers: []\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_USERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {\r\n\tUSER_LOADING,\r\n\tUSER_LOADED,\r\n\tAUTH_ERROR,\r\n\tLOGIN_SUCCESS,\r\n\tLOGIN_FAIL,\r\n\tLOGOUT_SUCCESS,\r\n\tREGISTER_SUCCESS,\r\n\tREGISTER_FAIL\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\ttoken: localStorage.getItem(\"token\"),\r\n\tisAuthenticated: null,\r\n\tisLoading: false,\r\n\tuser: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase USER_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true\r\n\t\t\t};\r\n\t\tcase USER_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tuser: action.payload\r\n\t\t\t};\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\tcase REGISTER_SUCCESS:\r\n\t\t\tlocalStorage.setItem(\"token\", action.payload.token);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t...action.payload,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\tisLoading: false\r\n\t\t\t};\r\n\t\tcase AUTH_ERROR:\r\n\t\tcase REGISTER_FAIL:\r\n\t\tcase LOGIN_FAIL:\r\n\t\tcase LOGOUT_SUCCESS:\r\n\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tisLoading: false\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { GET_ERRORS, CLEAR_ERRORS } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\tmsg: {},\r\n\tstatus: null,\r\n\tid: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_ERRORS:\r\n\t\t\treturn {\r\n\t\t\t\tmsg: action.payload.msg,\r\n\t\t\t\tstatus: action.payload.status,\r\n\t\t\t\tid: action.payload.id\r\n\t\t\t};\r\n\t\tcase CLEAR_ERRORS:\r\n\t\t\treturn {\r\n\t\t\t\tmsg: {},\r\n\t\t\t\tstatus: null,\r\n\t\t\t\tid: null\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import {\r\n\tGET_OFFERS,\r\n\tOFFERS_LOADING,\r\n\tGET_OFFERS_ERROR,\r\n\tADD_OFFER_SUCCESS,\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n\toffers: [],\r\n\tisLoading: false,\r\n};\r\n\r\nexport default function (state = initialState, action) {\r\n\tswitch (action.type) {\r\n\t\tcase GET_OFFERS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffers: action.payload,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t};\r\n\t\tcase OFFERS_LOADING:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t};\r\n\t\tcase GET_OFFERS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffers: [],\r\n\t\t\t\tisLoading: false,\r\n\t\t\t};\r\n\t\tcase ADD_OFFER_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\toffers: [...state.offers, action.payload],\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport userReducer from \"./userReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport errorReducer from \"./errorReducer\";\r\nimport offerReducer from \"./offerReducer\";\r\n\r\nexport default combineReducers({\r\n\tuser: userReducer,\r\n\terror: errorReducer,\r\n\tauth: authReducer,\r\n\toffer: offerReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\n\r\nconst middleWare = [thunk];\r\n\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcompose(\r\n\t\tapplyMiddleware(...middleWare),\r\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION__ &&\r\n\t\t\twindow.__REDUX_DEVTOOLS_EXTENSION__()\r\n\t)\r\n);\r\n\r\nexport default store;\r\n","import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport Login from \"./components/Login\";\r\nimport Homepage from \"./components/Homepage\";\r\nimport Oauth from \"./components/Oauth\";\r\n\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport { loadUser } from \"./actions/authActions\";\r\nimport { getOffers } from \"./actions/offerActions\";\r\nimport AddOffer from \"./components/AddOffer\";\r\n\r\nclass App extends Component {\r\n\tcomponentDidMount() {\r\n\t\tstore.dispatch(loadUser());\r\n\t\tstore.dispatch(getOffers());\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Provider store={store}>\r\n\t\t\t\t<Router>\r\n\t\t\t\t\t<Route path=\"/\" exact component={Homepage} />\r\n\t\t\t\t\t<Route path=\"/login\" exact component={Login} />\r\n\t\t\t\t\t<Route path=\"/addoffer\" exact component={AddOffer} />\r\n\t\t\t\t\t<Route path=\"/oauth/42/redirect\" exact component={Oauth} />\r\n\t\t\t\t</Router>\r\n\t\t\t</Provider>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}